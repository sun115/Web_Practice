<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>가중치 계산</title>
</head>

<body>
  1번 0<input type="radio" name="radioBtn1" value=0>
  1<input type="radio" name="radioBtn1" value=1>
  2<input type="radio" name="radioBtn1" value=2>
  3<input type="radio" name="radioBtn1" value=3>
  4<input type="radio" name="radioBtn1" value=4>
  가중치 <input type="text" value=6 id="txt1">
  <br>
  2번 0<input type="radio" name="radioBtn2" value=0>
  1<input type="radio" name="radioBtn2" value=1>
  2<input type="radio" name="radioBtn2" value=2>
  3<input type="radio" name="radioBtn2" value=3>
  4<input type="radio" name="radioBtn2" value=4>
  가중치 <input type="text" value=7 id="txt2">
  <br>
  3번 0<input type="radio" name="radioBtn3" value=0>
  1<input type="radio" name="radioBtn3" value=1>
  2<input type="radio" name="radioBtn3" value=2>
  3<input type="radio" name="radioBtn3" value=3>
  4<input type="radio" name="radioBtn3" value=4>
  가중치 <input type="text" value=9 id="txt3">
  <br>
  <span id="sp1">
  </span>
  <br>
  <input type="button" value="계산" id="btn"><br>
  <input type="button" value="test" id="btn2">

  <script>
    document.getElementById('btn').addEventListener('click', function() {
      var radios1 = document.getElementsByName('radioBtn1');
      var radios2 = document.getElementsByName('radioBtn2');
      var radios3 = document.getElementsByName('radioBtn3');
      var txt1 = document.getElementById('txt1').value;
      var txt2 = document.getElementById('txt2').value;
      var txt3 = document.getElementById('txt3').value;

      for (var i = 0; i < radios1.length; i++) {

        if (radios1[i].checked) {
          v1 = i
        }
        if (radios2[i].checked) {
          v2 = i
        }
        if (radios3[i].checked) {
          v3 = i
        }
      }


      var total = (v1 * txt1 + v2 * txt2 + v3 * txt3)
      // 새로 배운 표현식! 1옆의 ``도 str으로 인식하는데
      //그 안에 ${}을 넣으면 {}안에 변수를 바로 넣어서 str으로 만들 수 있다.
      var result =`${v1}x${txt1} + ${v2}x${txt2} + ${v3}x${txt3} = ${total}`

      //예외처리
      if(txt1.match(/[^0-9,.]/) || txt2.match(/[^0-9,.]/) || txt3.match(/[^0-9,.]/)){
        alert("숫자만 입력해주세요.");
        result=''
      }

      document.getElementById("sp1").innerHTML = result;
      console.log(total);
    })




    //2중배열로 돌려보고 싶었는데...
    document.getElementById('btn2').addEventListener('click', function() {
      var sum;
      var arr = [];
      arr[0] = document.getElementsByName('radioBtn1');
      arr[1] = document.getElementsByName('radioBtn2');
      arr[2] = document.getElementsByName('radioBtn3');
      console.log(arr);

      for (var i = 0; i < arr.length; i++) {
        for (var j = 0; j < arr.length; j++) {
          if (arr[i].checked) {
            arr[i][j] = j;
            sum += i;
          }
        }
      }

    })

    console.log(document.getElementsByName('radioBtn1'))
    // document.getElementsByName('radioBtn')[3].checked = true
  </script>
</body>

</html>
